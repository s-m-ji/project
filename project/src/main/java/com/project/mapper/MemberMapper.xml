<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.project.mapper.MemberMapper">

<!-- member 목록 조회 -->
<select id="memberList" resultType="com.project.vo.MemberVo">
	<![CDATA[
		SELECT mno,email,name,nickname, pnum,TO_CHAR(reg_date, 'YY/MM/DD') reg_dateStr, grade, DECODE(delYN, 'Y', '신청', '미신청') delYNStr FROM rec_member
	]]>
</select>


<!--  페이징 + 검색조건 목록 .VER
 <select id="">
<![CDATA[SELECT * FROM ( 
	SELECT ROWNUM RN, T.* from ( 
		SELECT mno,email,name,nickname, pnum, TO_CHAR(reg_date, 'YY/MM/DD') reg_dateStr , grade, DECODE(delYN, 'Y', '신청', '미신청') delYNStr from rec_member where mno>0 ]]>
		<include refid="criteria"></include> order by mno desc
		) t 
	) where rn between 1 and 10;
</select>

-->

<!-- <sql id="criteria">
	<choose>
		<when test="searchField == 'title'">
			and name like '%'||#{searchWorld}||'%'
		</when>
		<when test="searchField == 'content'">
			and grade like '%'||#{searchWorld}||'%' 
		</when>
		<when test="searchField == 'writer'">
			and delYN like '%'||#{searchWorld}||'%' 
		</when>
	</choose>
</sql>  -->

</mapper>